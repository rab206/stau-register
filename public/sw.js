'use strict';var CACHE_VERSION=1,CURRENT_CACHES={prefetch:'prefetch-cache-v'+CACHE_VERSION};self.addEventListener('install',function(a){var b=Date.now(),c=['/','/index.html','/index.js','/datalist-polyfill.js','/tachyons.css','https://fonts.gstatic.com/s/roboto/v15/CWB0XYA8bzo0kSThX0UTuA.woff2','https://fonts.gstatic.com/s/roboto/v15/d-6IYplOFocCacKzxwXSOFtXRa8TVwTICgirnJhmVJw.woff2','/eagle_logo_s.png','/favicon.ico'];console.log('Handling install event. Resources to prefetch:',c),a.waitUntil(caches.open(CURRENT_CACHES.prefetch).then(function(d){var e=c.map(function(f){var g=new URL(f,location.href);g.search+=(g.search?'&':'?')+'cache-bust='+b;var h=new Request(g,{mode:'cors'});return fetch(h).then(function(i){if(400<=i.status)throw new Error('request for '+f+' failed with status '+i.statusText);return d.put(f,i)}).catch(function(i){console.error('Not caching '+f+' due to '+i)})});return Promise.all(e).then(function(){console.log('Pre-fetching complete.')})}).catch(function(d){console.error('Pre-fetching failed:',d)}))}),self.addEventListener('activate',function(a){var b=Object.keys(CURRENT_CACHES).map(function(c){return CURRENT_CACHES[c]});a.waitUntil(caches.keys().then(function(c){return Promise.all(c.map(function(d){if(-1===b.indexOf(d))return console.log('Deleting out of date cache:',d),caches.delete(d)}))}))}),self.addEventListener('fetch',function(a){console.log('Handling fetch event for',a.request.url),a.respondWith(caches.match(a.request).then(function(b){return b?(console.log('Found response in cache:',b),b):(console.log('No response found in cache. About to fetch from network...'),fetch(a.request).then(function(c){return console.log('Response from network is:',c),c}).catch(function(c){throw console.error('Fetching failed:',c),c}))}))});
//# sourceMappingURL=sw.js.map
