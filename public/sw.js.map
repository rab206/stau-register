{"version":3,"sources":["sw.js"],"names":["CACHE_NAME","urlsToCache","self","addEventListener","event","waitUntil","caches","open","then","console","log","cache","addAll","keys","Promise","all","cacheNames","map","oldCache","delete","respondWith","fetch","request","response","catch","match","Response"],"mappings":"AAAA,aAGA,GAAIA,YAAa,kBAAjB,CACIC,mFADJ,CASAC,KAAKC,gBAAL,CAAsB,SAAtB,CAAiC,WAAgB,CAE/CC,EAAMC,SAAN,CACEC,OAAOC,IAAP,CAAYP,UAAZ,EACCQ,IADD,CACM,WAAgB,CAEpB,MADAC,SAAQC,GAAR,CAAY,cAAZ,CACA,CAAOC,EAAMC,MAAN,CAAaX,WAAb,CACR,CAJD,CADF,CAOD,CATD,C,CAWAC,KAAKC,gBAAL,CAAsB,UAAtB,CAAkC,WAAgB,CAChDC,EAAMC,SAAN,CACEC,OAAOO,IAAP,GAAcL,IAAd,CAAmB,WAAqB,CACtC,MAAOM,SAAQC,GAAR,CACLC,EAAWC,GAAX,CAAe,WAAmB,CAChC,GAAIjB,YAAckB,CAAlB,CACE,MAAOZ,QAAOa,MAAP,CAAcD,CAAd,CAEV,CAJD,CADK,CAOR,CARD,CADF,CAWD,CAZD,C,CAeAhB,KAAKC,gBAAL,CAAsB,OAAtB,CAA+B,WAAgB,CAC7CC,EAAMgB,WAAN,CAEEC,MAAMjB,EAAMkB,OAAZ,EAAqBd,IAArB,CAA0B,KAAY,CACpC,MAAOe,EACR,CAFD,EAEGC,KAFH,CAES,IACPlB,OAAOmB,KAAP,CAAarB,EAAMkB,OAAnB,EACCd,IADD,CACM,WAAmB,OAEnBe,EAFmB,CAGdA,CAHc,CAMhB,GAAIG,SAAJ,CAAa,mDAAb,CACR,CARD,CAHF,CAFF,CAgBD,CAjBD,C","file":"sw.js","sourcesContent":["'use strict';\n/* global Response, caches, URL, fetch */\n\nvar CACHE_NAME = 'my-site-cache-v1';\nvar urlsToCache = [\n  '/',\n  '/index.html',\n  '/index.js',\n  '/datalist-polyfill.js',\n  '/tachyons.css'\n];\n\nself.addEventListener('install', function(event) {\n  // Perform install steps\n  event.waitUntil(\n    caches.open(CACHE_NAME)\n    .then(function(cache) {\n      console.log('Opened cache');\n      return cache.addAll(urlsToCache);\n    })\n  );\n});\n\nself.addEventListener('activate', function(event) {\n  event.waitUntil(\n    caches.keys().then(function(cacheNames) {\n      return Promise.all(\n        cacheNames.map(function(oldCache) {\n          if (CACHE_NAME != oldCache) {\n            return caches.delete(oldCache);\n          }\n        })\n      );\n    })\n  );\n});\n\n\nself.addEventListener('fetch', function(event) {\n  event.respondWith(\n    // go to network first\n    fetch(event.request).then(response => {\n      return response;\n    }).catch(() =>\n      caches.match(event.request)\n      .then(function(response) {\n        // Cache hit - return response\n        if (response) {\n          return response;\n        }\n        // if no network and cache hit fails then return a dummy response\n        return new Response('Sorry the page was not cached and you are offline');\n      })\n    )\n  );\n});\n"]}