{"version":3,"sources":["sw.js"],"names":["CACHE_NAME","urlsToCache","self","addEventListener","event","waitUntil","caches","open","then","console","log","cache","addAll","map","Request","urlToPrefetch","mode","keys","Promise","all","cacheNames","oldCache","delete","respondWith","fetch","request","response","catch","match","Response"],"mappings":"AAAA,aAGA,GAAIA,YAAa,kBAAjB,CACIC,6LADJ,CAUAC,KAAKC,gBAAL,CAAsB,SAAtB,CAAiC,WAAgB,CAE/CC,EAAMC,SAAN,CACEC,OAAOC,IAAP,CAAYP,UAAZ,EACCQ,IADD,CACM,WAAgB,CAEpB,MADAC,SAAQC,GAAR,CAAY,cAAZ,CACA,CAAOC,EAAMC,MAAN,CAAaX,YAAYY,GAAZ,CAAgB,WAAwB,CACzD,MAAO,IAAIC,QAAJ,CAAYC,CAAZ,CAA2B,CAAEC,KAAM,SAAR,CAA3B,CACT,CAFmB,CAAb,EAEHR,IAFG,CAEE,UAAW,CAClBC,QAAQC,GAAR,CAAY,6CAAZ,CACD,CAJM,CAKR,CARD,CADF,CAWD,CAbD,C,CAeAR,KAAKC,gBAAL,CAAsB,UAAtB,CAAkC,WAAgB,CAChDC,EAAMC,SAAN,CACEC,OAAOW,IAAP,GAAcT,IAAd,CAAmB,WAAqB,CACtC,MAAOU,SAAQC,GAAR,CACLC,EAAWP,GAAX,CAAe,WAAmB,CAChC,GAAIb,YAAcqB,CAAlB,CACE,MAAOf,QAAOgB,MAAP,CAAcD,CAAd,CAEV,CAJD,CADK,CAOR,CARD,CADF,CAWD,CAZD,C,CAeAnB,KAAKC,gBAAL,CAAsB,OAAtB,CAA+B,WAAgB,CAC7CC,EAAMmB,WAAN,CAEEC,MAAMpB,EAAMqB,OAAZ,EAAqBjB,IAArB,CAA0B,KAAY,CACpC,MAAOkB,EACR,CAFD,EAEGC,KAFH,CAES,IACPrB,OAAOsB,KAAP,CAAaxB,EAAMqB,OAAnB,EACCjB,IADD,CACM,WAAmB,OAEnBkB,EAFmB,CAGdA,CAHc,CAMhB,GAAIG,SAAJ,CAAa,mDAAb,CACR,CARD,CAHF,CAFF,CAgBD,CAjBD,C","file":"sw.js","sourcesContent":["'use strict';\n/* global Request, Response, caches, URL, fetch */\n\nvar CACHE_NAME = 'my-site-cache-v1';\nvar urlsToCache = [\n  '/',\n  '/index.html',\n  '/index.js',\n  '/datalist-polyfill.js',\n  '/tachyons.css',\n  'https://spreadsheets.google.com/feeds/list/1j9z1tQwSwxclM-ucThVbraR_JaQcvnwnPoDGFLGUFfU/2/public/values'\n];\n\nself.addEventListener('install', function(event) {\n  // Perform install steps\n  event.waitUntil(\n    caches.open(CACHE_NAME)\n    .then(function(cache) {\n      console.log('Opened cache');\n      return cache.addAll(urlsToCache.map(function(urlToPrefetch) {\n         return new Request(urlToPrefetch, { mode: 'no-cors' });\n      })).then(function() {\n        console.log('All resources have been fetched and cached.');\n      });\n    })\n  );\n});\n\nself.addEventListener('activate', function(event) {\n  event.waitUntil(\n    caches.keys().then(function(cacheNames) {\n      return Promise.all(\n        cacheNames.map(function(oldCache) {\n          if (CACHE_NAME != oldCache) {\n            return caches.delete(oldCache);\n          }\n        })\n      );\n    })\n  );\n});\n\n\nself.addEventListener('fetch', function(event) {\n  event.respondWith(\n    // go to network first\n    fetch(event.request).then(response => {\n      return response;\n    }).catch(() =>\n      caches.match(event.request)\n      .then(function(response) {\n        // Cache hit - return response\n        if (response) {\n          return response;\n        }\n        // if no network and cache hit fails then return a dummy response\n        return new Response('Sorry the page was not cached and you are offline');\n      })\n    )\n  );\n});\n"]}